<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="trigrid() creates a triangular grid based on the
   tessellation of an icosahedron."><title>A triangular icosahedral grid — trigrid-class • icosa</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="A triangular icosahedral grid — trigrid-class"><meta property="og:description" content="trigrid() creates a triangular grid based on the
   tessellation of an icosahedron."><meta property="og:image" content="https://adamkocsis.github.io/icosa/reference/figures/logo.png"><meta property="og:image:alt" content="The icosa sticker."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@atkocsis"><meta name="twitter:site" content="@atkocsis"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">icosa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.11.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorials">Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorials">
    <a class="dropdown-item" href="../articles/icosa_1_installation.html">1. Installation</a>
    <a class="dropdown-item" href="../articles/icosa_2_essentials.html">2. Essentials</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-internals">Internals</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-internals">
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
    <a class="dropdown-item" href="../articles/archive.html">Package archive</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.evolv-ed.net/">How-to guides on EvolvED</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/adamkocsis/icosa/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A triangular icosahedral grid</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamkocsis/icosa/blob/HEAD/R/grid-build.R" class="external-link"><code>R/grid-build.R</code></a></small>
      <div class="d-none name"><code>trigrid-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>trigrid()</code> creates a triangular grid based on the
   tessellation of an icosahedron.</p>
    </div>


    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>tessellation</dt>
<dd><p>(<code>numeric</code>) An integer vector with the tessellation values. Each number
 describes the number of new edges replacing one original edge. Multiple series of tessellations
    are possible this way. The total tessellation is the product of the tessellation vector. 
Higher values result in more uniform cell sizes, but the larger number of tessellation series
increases the speed of lookup functions.</p></dd>


<dt>deg</dt>
<dd><p>(<code>numeric</code>) The target edge length of the grid in degrees. If provided, the function will select the appropriate tessellation vector from the <code><a href="triguide.html">triguide</a></code>-table, which is closest to the target. Note that these are unlikely to be the exact matches.</p></dd>


<dt>sp</dt>
<dd><p>(<code>logical</code>) Flag indicating whether the <code><a href="https://edzer.github.io/sp/reference/SpatialPolygons.html" class="external-link">SpatialPolygons</a></code> class representation of the grid
should be added to the object when the grid is calculated. If set to <code>TRUE</code> the <code><a href="SpPolygons.html">SpPolygons()</a></code> function will be run with with the resolution parameter set to 25. The 
 resulting object will be stored in slot <code>@sp</code>. As the calculation of this object can substantially increase the grid creation time,
 by default this argument has a value of <code>FALSE</code>. The <code><a href="https://edzer.github.io/sp/reference/SpatialPolygons.html" class="external-link">SpatialPolygons</a></code> class representation can be added on demand by running the function <code>newsp</code>.</p></dd>


<dt>graph</dt>
<dd><p>(<code>logical</code>) Flag indicating whether the <code>'igraph'</code> class representation of the grid
should be added to the object when the grid is calculated. This argument defaults to <code>TRUE</code> because this option has only minor performance load on the grid 
constructor function. For familiarization with the
object structure, however, setting this parameter to <code>FALSE</code> might help, as invoking <code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></code> on the <code>'igraph'</code> class slot of the class might flood the console.</p></dd>


<dt>radius</dt>
<dd><p>(<code>numeric</code>) The radius of the grid. Defaults to the authalic radius of Earth.</p></dd>


<dt>center</dt>
<dd><p>(<code>numeric</code>) The origin of the grid in the reference Cartesian coordinate system. Defaults to (0,0,0).</p></dd>


<dt>verbose</dt>
<dd><p>(<code>logical</code>) Should messages be printed during grid creation?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A triangular grid object, with class <code>trigrid</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The grid structure functions as a frame for data graining, plotting and spatial
calculations. Data can be stored in layers that are linked to the grid object. In the current version only the 
<code>facelayer</code> class is implemented, which allows the user to render data to the cells
of the grid, which are usually referred to as faces. 
The grid 'user interface' is made up of four primary tables: the <code>@vertices</code> table for the coordinates of the vertices,
	the <code>faceCenters</code> for the coordinates of the centers of faces,
the <code>faces</code> and the <code>edges</code> tables that contain which vertices form which faces and edges respectively.
In these tables, the faces and vertices are sorted to form spirals that go from the north pole in a counter-clockwise
direction. In case grid subsetting is performed these tables get truncated.</p>
<p>At finer resolutions, the large number of spatial elements render all calculations resource demanding and slow, 
therefore the hierarchical structure created during the tessellation procedure is retained for efficient implementation.
These data are stored in a list in the slot <code>@skeleton</code> and are 0-indexed integer tables for Rccp-based functions. <code>$v</code> 
stores vertex, <code>$f</code> the edge, and <code>$e</code> contains the edge data for plotting and calculations. In these tables
the original hierarchy based orderings of the units are retained, during subsetting, additional vectors are used to indicate
deactivation of these units. Any sort of meddling with the <code>@skeleton</code> object will lead to unexpected behavior.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>
    

<dl><dt><code>vertices</code></dt>
<dd><p>Matrix of the vertex XYZ coordinates.</p></dd>


<dt><code>faces</code></dt>
<dd><p>Matrix of the verticies forming the faces.</p></dd>


<dt><code>edges</code></dt>
<dd><p>Matrix of the vertices forming the edges.</p></dd>


<dt><code>tessellation</code></dt>
<dd><p>Contains the tessellation vector.</p></dd>


<dt><code>orientation</code></dt>
<dd><p>Contains the grid orientation in xyz 3d space, values in radian relative to the (0,1,0) direction.</p></dd>


<dt><code>center</code></dt>
<dd><p>is the xyz coordinates of the grids origin/center.</p></dd>


<dt><code>div</code></dt>
<dd><p>vector contains the number of faces that a single face of the previous tessellation level is decomposed to.</p></dd>


<dt><code>faceCenters</code></dt>
<dd><p>contains the xyz coordinates of the centers of the faces on the surface of the sphere.</p></dd>


<dt><code>belts</code></dt>
<dd><p>Vector of integers indicating the belt the face belongs to.</p></dd>


<dt><code>edgeLength</code></dt>
<dd><p>the length of an average edge in km and degrees.</p></dd>


<dt><code>graph</code></dt>
<dd><p>an 'igraph' class graph object.</p></dd>


<dt><code>length</code></dt>
<dd><p>integer vector of length=3. The number of vertices, edges and faces in this order.</p></dd>


<dt><code>crs</code></dt>
<dd><p>a CRS class object, by design this is the authalic sphere (ESRI:37008)</p></dd>


<dt><code>r</code></dt>
<dd><p>the radius of the grid</p></dd>


<dt><code>sp</code></dt>
<dd><p>The SpatialPolygons representation of the grid. If missing, it can be created with newsp().</p></dd>


<dt><code>sf</code></dt>
<dd><p>The sf representation of the grid. If missing, it can be created with newsf().</p></dd>


<dt><code>skeleton</code></dt>
<dd><p>data tables with sequential indexing for the C functions.</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># single tessellation value</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">trigrid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A/An trigrid object with 642 vertices, 1920 edges and 1280 faces.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The mean grid edge length is 961.08 km or 8.64 degrees.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use plot3d() to see a 3d render.</span>
<span class="r-in"><span><span class="co"># series of tessellations</span></span></span>
<span class="r-in"><span><span class="va">g1</span> <span class="op">&lt;-</span> <span class="fu">trigrid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A/An trigrid object with 5762 vertices, 17280 edges and 11520 faces.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The mean grid edge length is 320.81 km or 2.89 degrees.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use plot3d() to see a 3d render.</span>
<span class="r-in"><span><span class="co"># based on approximate size (4 degrees edge length)</span></span></span>
<span class="r-in"><span><span class="va">g2</span> <span class="op">&lt;-</span> <span class="fu">trigrid</span><span class="op">(</span>deg<span class="op">=</span><span class="fl">4</span><span class="op">)</span> </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Selecting trigrid with tessellation vector: c(17).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Mean edge length: 4.072 degrees.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://palaeobiology.nat.fau.de/people/instructors/kocsis/" class="external-link">Adam T. Kocsis</a>, <a href="https://www.dfg.de/en/index.jsp" class="external-link"><img src="https://github.com/adamkocsis/icosa/blob/devel/pkgdown/assets/dfg.png?raw=true" alt="dfg" width="80"></a>, <a href="https://www.gzn.nat.fau.eu/" class="external-link"><img src="https://github.com/adamkocsis/icosa/blob/devel/pkgdown/assets/GeoZentrum.svg?raw=true" alt="geozentrum" width="80"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

